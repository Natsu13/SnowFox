<div  class="row"><div  class="col-xl-9 col-lg-12"><div  class="card"><div  class="alert alert-warning"  id="updatebox"  style='display:none;'><a  href='<?php echo Router::url(); ?>adminv3/info/update/'  class='btn btn-primary float-right btn-sm'><?php echo t("Go to update"); ?></a> <div><?php echo t("There is new version avalible"); ?></div></div> <div  class="alert alert-warning"  id="info-update"  style="display: none;"></div> <form  id="infosetting"  method="post"  action="<?php echo Router::url(); ?>adminv3/info/update/"><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Title"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['title'] ) && (  $model['title'] )) || !is_bool(  $model['title'] )) { echo " value=\"" . ($model['title']) . "\""; } ?>  name="title" /></div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Title separator"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['separator'] ) && (  $model['separator'] )) || !is_bool(  $model['separator'] )) { echo " value=\"" . ($model['separator']) . "\""; } ?>  name="titleSeparator" /></div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Title position"); ?></div> <div  class="col-md-9"><select  name="titleFirst"  style='width:100%;'><option  value="2" <?php if((is_bool(  $model['titleFirst'] == 2 ) && (  $model['titleFirst'] == 2 )) || !is_bool(  $model['titleFirst'] == 2 )) { echo " selected=\"" . ($model['titleFirst'] == 2) . "\""; } ?>> Pre-Title<?php echo $model["separator"]; ?><?php echo $model["title"]; ?></option> <option  value="1" <?php if((is_bool(  $model['titleFirst'] == 1 ) && (  $model['titleFirst'] == 1 )) || !is_bool(  $model['titleFirst'] == 1 )) { echo " selected=\"" . ($model['titleFirst'] == 1) . "\""; } ?>> <?php echo $model["title"]; ?><?php echo $model["separator"]; ?>Pre-Title</option> </select> </div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Logo"); ?></div> <div  class="col-md-9"><input  type="file" <?php if((is_bool(  $model['logo'] ) && (  $model['logo'] )) || !is_bool(  $model['logo'] )) { echo " value=\"" . ($model['logo']) . "\""; } ?>  name="logo" /></div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Keywords"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['keywords'] ) && (  $model['keywords'] )) || !is_bool(  $model['keywords'] )) { echo " value=\"" . ($model['keywords']) . "\""; } ?>  name="keywords" /><div  class="help-text"><?php echo t("A few words describing the page, separated by commas"); ?></div> </div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Description"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['description'] ) && (  $model['description'] )) || !is_bool(  $model['description'] )) { echo " value=\"" . ($model['description']) . "\""; } ?>  name="description" /></div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Author"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['autor'] ) && (  $model['autor'] )) || !is_bool(  $model['autor'] )) { echo " value=\"" . ($model['autor']) . "\""; } ?>  name="autor" /></div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Time zone"); ?></div> <div  class="col-md-9"><select  name="utc"  style='width:100%;'  data-search="true"> <?php foreach(Utilities::$timezones as $key => $value) { ?><option <?php if((is_bool(  $value ) && (  $value )) || !is_bool(  $value )) { echo " value=\"" . ($value) . "\""; } ?> <?php if((is_bool(  $model['utc'] == $value ) && (  $model['utc'] == $value )) || !is_bool(  $model['utc'] == $value )) { echo " selected=\"" . ($model['utc'] == $value) . "\""; } ?>><?php echo $value; ?></option>  <?php } ?></select> <div  class="help-text"><?php echo t("Time with timezone"); ?>&nbsp;<b><?php echo $model['utc']; ?></b>&nbsp;<?php echo t("is"); ?>&nbsp;<b><?php echo date(Utilities::getTimeFormat(), time()); ?></b></div> </div> </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Time format"); ?></div> <div  class="col-md-9"><input  type="text"  value="<?php echo Utilities::getTimeFormat(); ?>"  name="timeformat" /><div  class="help-text"><?php echo t("For more information go"); ?>&nbsp;<a  href='https://www.php.net/manual/en/function.date.php#format'  target="_blank"><?php echo t("there"); ?></a> </div> </div> </div> <div  class="row"><div  class="col-md-3"></div> <div  class="col-md-9"><button  type="submit"  class="submit button button-primary"  name="save"><?php echo t('Save'); ?></button>  </div> </div> </form> </div> </div> <div  class="col-xl-3 col-lg-12"><div  class="card"  data-collapsable="1"  data-id="language"><div  class="card-title"> <?php echo t("Languages"); ?></div> <div  class="card-content"><form  id="langsettings"  method="post"  action="<?php echo Router::url(); ?>adminv3/info/update_language/"><ul  class="card-list"> <?php foreach($model["languages"] as $key => $lang) { ?><li  onclick="$('#lng-<?php echo $lang; ?>').prop('checked', true);"><div  class="right-text text-bold"><input  type="radio" <?php if((is_bool(  $model['default-languge'] == $lang ) && (  $model['default-languge'] == $lang )) || !is_bool(  $model['default-languge'] == $lang )) { echo " checked=\"" . ($model['default-languge'] == $lang) . "\""; } ?>  name="lang"  id="lng-<?php echo $lang; ?>" <?php if((is_bool(  $lang ) && (  $lang )) || !is_bool(  $lang )) { echo " value=\"" . ($lang) . "\""; } ?> /></div>  <?php echo t($lang); ?></li>  <?php } ?><li  class="text-right"><button  type="submit"  class="submit button button-primary"><?php echo t("Save"); ?></button> </li> </ul> </form> </div> </div> <div  class="card"  data-collapsable="1"  data-id="information"><div  class="card-title"> <?php echo t("Information"); ?></div> <div  class="card-content"><ul  class="card-list"><li><div  class="right-text text-bold"  style="color:<?php echo $model['permission']['color']; ?>;"><?php echo $model["permission"]["name"]; ?></div>  <?php echo t("Permission"); ?></li><li><div  class="right-text"><?php echo Utilities::ip(); ?></div>  <?php echo t("IP address"); ?></li><li><div  class="right-text"><?php echo phpversion(); ?></div>  <?php echo t("Version"); ?> PHP
                    </li><li><div  class="right-text"><?php echo $model["dbprefix"]==""?t("without prefix"):$model["dbprefix"]; ?></div>  <?php echo t("Prefix"); ?></li><li><div  class="right-text"><?php echo $model["database"]; ?></div>  <?php echo t("Database"); ?></li><li><div  class="right-text"><?php echo Bootstrap::$version; ?></div>  <?php echo t("System version"); ?></li><li><div  class="right-text"><span  id='actualver'><i  class="fas fa-circle-notch fa-spin"></i> </span> </div>  <?php echo t("Latest version"); ?></li><li><div  class="right-text"><?php echo $model["dbversion"]; ?></div>  <?php echo t("Dabatase version"); ?></li> <?php if($model["compress"] != "FALSE") { ?><li><div  class="right-text"><?php echo t("Size"); ?>:&nbsp;<?php echo Utilities::convertBtoMB($model["compress_size"], "MB"); ?></div>  <?php echo t("Compression"); ?></li> <?php } ?><li><div  class="right-text"><?php echo $model["dblog"] == "FALSE"?t("No"):t("Yes"); ?></div>  <?php echo t("MySQL Log"); ?></li></ul> </div> </div> </div> </div> <script> var server = "<?php echo getUpdateServer(); ?>";
    var upload = null;
    var version = "<?php echo Bootstrap::$version; ?>";

    $.getJSON(server+"apigetplugin/?code=core", function(data) {
        $("#actualver").html(data.version);
        var v = cmpVersions(data.version, version);
        if(v < 0) {
            $("#info-update").show().html("<?php echo t('Your curent version is ahead of latest version'); ?>");
        }else if(v > 0) {
            $("#info-update").show().html("<?php echo t('There is new version avalible'); ?>");
            $("#updatebox").show();
        }
    });

    upload = new Uploader(
        "<?php echo Router::url(); ?>adminv2/info/?__type=ajax",
        $("#infosetting"),
        $("[name='logo']"), {
            autosubmit: false,
            maxfiles: 1
        }   
    );
    upload.AfterUpload(function (data) {
        window.location.reload();
    });
</script>