<?php $leftClass = ($model["position"] == 1?"col-md-3":"col-md-12"); ?> <?php $rightClass = ($model["position"] == 1?"col-md-9":"col-md-12"); ?><div  class="row" <?php if((is_bool(  $model['state'] == 3? 'opacity: 0.5': '' ) && (  $model['state'] == 3? 'opacity: 0.5': '' )) || !is_bool(  $model['state'] == 3? 'opacity: 0.5': '' )) { echo " style=\"" . ($model['state'] == 3? 'opacity: 0.5': '') . "\""; } ?>><div  class="static-text <?php echo $leftClass; ?> <?php echo $model['position'] == 5?'hidden':''; ?>"> <?php if($model["type"] != "variable" && $model["type"] != "submit") { ?> <?php echo $model["name"]; ?><?php if($model["state"] == 1) { ?><span  class="required">*</span> <?php } ?> <?php } ?></div>  <?php if($model["type"] == "textbox") { ?><div <?php if((is_bool(  $rightClass ) && (  $rightClass )) || !is_bool(  $rightClass )) { echo " class=\"" . ($rightClass) . "\""; } ?>><input  type="text" <?php if((is_bool(  $model['value'] ) && (  $model['value'] )) || !is_bool(  $model['value'] )) { echo " value=\"" . ($model['value']) . "\""; } ?> <?php if((is_bool(  $model['placeholder'] ) && (  $model['placeholder'] )) || !is_bool(  $model['placeholder'] )) { echo " placeholder=\"" . ($model['placeholder']) . "\""; } ?>  autocomplete="off" <?php if((is_bool(  $model['state'] == 2 ) && (  $model['state'] == 2 )) || !is_bool(  $model['state'] == 2 )) { echo " disabled=\"" . ($model['state'] == 2) . "\""; } ?> /></div>  <?php } else if($model["type"] == "password") { ?><div <?php if((is_bool(  $rightClass ) && (  $rightClass )) || !is_bool(  $rightClass )) { echo " class=\"" . ($rightClass) . "\""; } ?>><input  type="password" <?php if((is_bool(  $model['value'] ) && (  $model['value'] )) || !is_bool(  $model['value'] )) { echo " value=\"" . ($model['value']) . "\""; } ?> <?php if((is_bool(  $model['placeholder'] ) && (  $model['placeholder'] )) || !is_bool(  $model['placeholder'] )) { echo " placeholder=\"" . ($model['placeholder']) . "\""; } ?>  autocomplete="off" <?php if((is_bool(  $model['state'] == 2 ) && (  $model['state'] == 2 )) || !is_bool(  $model['state'] == 2 )) { echo " disabled=\"" . ($model['state'] == 2) . "\""; } ?> /></div>  <?php } else if($model["type"] == "text") { ?><div  class="static-text <?php echo $rightClass; ?>"> <?php echo $model["value"]; ?></div>  <?php } else if($model["type"] == "textarea") { ?><div <?php if((is_bool(  $rightClass ) && (  $rightClass )) || !is_bool(  $rightClass )) { echo " class=\"" . ($rightClass) . "\""; } ?>><textarea <?php if((is_bool(  $model['rows'] ) && (  $model['rows'] )) || !is_bool(  $model['rows'] )) { echo " rows=\"" . ($model['rows']) . "\""; } ?> <?php if((is_bool(  $model['placeholder'] ) && (  $model['placeholder'] )) || !is_bool(  $model['placeholder'] )) { echo " placeholder=\"" . ($model['placeholder']) . "\""; } ?> <?php if((is_bool(  $model['state'] == 2 ) && (  $model['state'] == 2 )) || !is_bool(  $model['state'] == 2 )) { echo " disabled=\"" . ($model['state'] == 2) . "\""; } ?>><?php echo $model['value']; ?></textarea> </div>  <?php } else if($model["type"] == "select") { ?><div <?php if((is_bool(  $rightClass . ' ' . ($model['select_type'] == 3 || $model['select_type'] == 4? 'static-text': '') ) && (  $rightClass . ' ' . ($model['select_type'] == 3 || $model['select_type'] == 4? 'static-text': '') )) || !is_bool(  $rightClass . ' ' . ($model['select_type'] == 3 || $model['select_type'] == 4? 'static-text': '') )) { echo " class=\"" . ($rightClass . ' ' . ($model['select_type'] == 3 || $model['select_type'] == 4? 'static-text': '')) . "\""; } ?>> <?php if($model["select_type"] == 1 || $model["select_type"] == 2) { ?><select  style="width: 100%;"> <?php foreach($model["items"] as $key => $value) { ?><option <?php if((is_bool(  $value['value'] ) && (  $value['value'] )) || !is_bool(  $value['value'] )) { echo " value=\"" . ($value['value']) . "\""; } ?> <?php if((is_bool(  $value['checked'] ) && (  $value['checked'] )) || !is_bool(  $value['checked'] )) { echo " selected=\"" . ($value['checked']) . "\""; } ?>><?php echo $value['name']; ?></option>  <?php } ?> <?php if($model["enableCustom"]) { ?><option  value="-1">- <?php echo t("Custom value"); ?> -</option>  <?php } ?></select>  <?php } else if($model["select_type"] == 3 || $model["select_type"] == 4) { ?> <?php $type = $model["select_type"] == 3? "checkbox": "radio"; ?> <?php foreach($model["items"] as $key => $value) { ?><label><input <?php if((is_bool(  $type ) && (  $type )) || !is_bool(  $type )) { echo " type=\"" . ($type) . "\""; } ?>  name="checkbox_<?php echo $model['id']; ?>" <?php if((is_bool(  $value['value'] ) && (  $value['value'] )) || !is_bool(  $value['value'] )) { echo " value=\"" . ($value['value']) . "\""; } ?> <?php if((is_bool(  $value['checked'] ) && (  $value['checked'] )) || !is_bool(  $value['checked'] )) { echo " checked=\"" . ($value['checked']) . "\""; } ?> /> <?php echo $value['name']; ?></label> <?php if($model["variety"] == 2) { ?><br /><?php } ?> <?php } ?> <?php if($model["enableCustom"]) { ?><label><input <?php if((is_bool(  $type ) && (  $type )) || !is_bool(  $type )) { echo " type=\"" . ($type) . "\""; } ?>  name="checkbox_<?php echo $model['id']; ?>"  value="-1" /> <?php echo t("Custom value"); ?>...</label> <?php } ?> <?php } ?></div>  <?php } else if($model["type"] == "recaptcha") { ?><div  class="static-text <?php echo $rightClass; ?>"><span  class="material-symbols-outlined">smart_toy</span>   <?php echo t("It's recaptcha from google version 2"); ?></div>  <?php } else if($model["type"] == "upload") { ?><div  class="static-text <?php echo $rightClass; ?>"><input  type="file" /></div>  <?php } else if($model["type"] == "variable") { ?><div  class="static-text <?php echo $rightClass; ?>"><span  class="variable"><span  class="material-symbols-outlined">attach_money</span> <?php echo $model["name"]; ?></span> </div>          <?php } else if($model["type"] == "submit") { ?><div <?php if((is_bool(  $rightClass ) && (  $rightClass )) || !is_bool(  $rightClass )) { echo " class=\"" . ($rightClass) . "\""; } ?>><input  type="submit"  class="button" <?php if((is_bool(  $model['name'] ) && (  $model['name'] )) || !is_bool(  $model['name'] )) { echo " value=\"" . ($model['name']) . "\""; } ?> /></div>     <?php } else if($model["type"] == "slider") { ?><div <?php if((is_bool(  $rightClass ) && (  $rightClass )) || !is_bool(  $rightClass )) { echo " class=\"" . ($rightClass) . "\""; } ?>><input  type="slider" <?php if((is_bool(  $model['value'] ) && (  $model['value'] )) || !is_bool(  $model['value'] )) { echo " value=\"" . ($model['value']) . "\""; } ?> <?php if((is_bool(  $model['state'] == 2 ) && (  $model['state'] == 2 )) || !is_bool(  $model['state'] == 2 )) { echo " disabled=\"" . ($model['state'] == 2) . "\""; } ?> <?php if((is_bool(  $model['title'] ) && (  $model['title'] )) || !is_bool(  $model['title'] )) { echo " data-formater=\"" . ($model['title']) . "\""; } ?> <?php if((is_bool(  $model['value_min'] ) && (  $model['value_min'] )) || !is_bool(  $model['value_min'] )) { echo " data-min=\"" . ($model['value_min']) . "\""; } ?> <?php if((is_bool(  $model['value_max'] ) && (  $model['value_max'] )) || !is_bool(  $model['value_max'] )) { echo " data-max=\"" . ($model['value_max']) . "\""; } ?> <?php if((is_bool(  $model['step'] ) && (  $model['step'] )) || !is_bool(  $model['step'] )) { echo " data-step=\"" . ($model['step']) . "\""; } ?> /></div>  <?php } else if($model["type"] == "picker") { ?><div <?php if((is_bool(  $rightClass ) && (  $rightClass )) || !is_bool(  $rightClass )) { echo " class=\"" . ($rightClass) . "\""; } ?>><div  class="picker"> <?php $index = 0; ?> <?php foreach($model["items"] as $item) { ?> <?php $color = $model['permList'][$item['minperm']]['color']; ?> <?php if($color == "") { ?><?php $color = "black"; ?><?php } ?> <?php if($model["displayas"] == "cells") { ?><div <?php if((is_bool(  $index ) && (  $index )) || !is_bool(  $index )) { echo " data-index=\"" . ($index) . "\""; } ?>  class="picker-cells" <?php if((is_bool(  $item['description'] ) && (  $item['description'] )) || !is_bool(  $item['description'] )) { echo " title=\"" . ($item['description']) . "\""; } ?>  style="font-size: <?php echo $model['fontsize']; ?>px; width: <?php echo $model['size']; ?>px; height: <?php echo $model['size']; ?>px; color:<?php echo $color; ?>;"><?php echo $item["name"]; ?></div>  <?php } else { ?><div  class="picker-<?php echo $model['displayas']; ?>"  style="color:<?php echo $color; ?>;"> <?php echo $item["name"]; ?><div  class="desc"> <?php echo $item['description']; ?></div> </div>                      <?php } ?> <?php if(intval($model["online"]) > 0 && $index >= intval($model["online"]) - 1) { ?><br /> <?php $index = 0; ?> <?php } else { ?> <?php $index++; ?> <?php } ?> <?php } ?></div> </div>  <?php } else { ?><div  class="static-text <?php echo $rightClass; ?>"><span  class="material-symbols-outlined"  title="<?php echo t('Unknown element'); ?>">warning</span>   <?php echo $model["id"]; ?> / <?php echo $model["name"]; ?></div>  <?php } ?></div> <div  class="<?php echo !$model['isEditing']?'hidden':''; ?> item-edit"  id="editing-form-item-<?php echo $model['id']; ?>"><hr /><div  class="row"><div  class="col-md-3 static-text"></div> <div  class="col-md-9 static-text"><b><?php echo t("Editing"); ?></b></div>      </div> <form  id="formedit-item-<?php echo $model['id']; ?>"  method="post"  action="<?php echo Router::url(); ?>adminv3/content/update_item/<?php echo $model['id']; ?>"><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Name"); ?></div> <div  class="col-md-6"><input  type="text" <?php if((is_bool(  $model['name'] ) && (  $model['name'] )) || !is_bool(  $model['name'] )) { echo " value=\"" . ($model['name']) . "\""; } ?>  name="name" /></div>       <?php if($model["type"] != "variable") { ?><div  class="col-md-1 static-text text-right"><?php echo t("Position"); ?></div> <div  class="col-md-2"><select  name="position"  style="width: 100%;"><option  value="1" <?php if((is_bool(  $model['position'] == 1 ) && (  $model['position'] == 1 )) || !is_bool(  $model['position'] == 1 )) { echo " selected=\"" . ($model['position'] == 1) . "\""; } ?>><?php echo t("Left"); ?></option> <option  value="2" <?php if((is_bool(  $model['position'] == 2 ) && (  $model['position'] == 2 )) || !is_bool(  $model['position'] == 2 )) { echo " selected=\"" . ($model['position'] == 2) . "\""; } ?>><?php echo t("Top"); ?></option> <option  value="5" <?php if((is_bool(  $model['position'] == 5 ) && (  $model['position'] == 5 )) || !is_bool(  $model['position'] == 5 )) { echo " selected=\"" . ($model['position'] == 5) . "\""; } ?>><?php echo t("Hidden"); ?></option> </select> </div>  <?php } ?></div>  <?php if($model["type"] == "textbox" || $model["type"] == "password" || $model["type"] == "variable" || $model["type"] == "slider") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Value"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['value'] ) && (  $model['value'] )) || !is_bool(  $model['value'] )) { echo " value=\"" . ($model['value']) . "\""; } ?>  name="value" /></div>      </div>  <?php } ?> <?php if($model["type"] == "slider") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Min value"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['value_min'] ) && (  $model['value_min'] )) || !is_bool(  $model['value_min'] )) { echo " value=\"" . ($model['value_min']) . "\""; } ?>  name="value_min" /></div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Max value"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['value_max'] ) && (  $model['value_max'] )) || !is_bool(  $model['value_max'] )) { echo " value=\"" . ($model['value_max']) . "\""; } ?>  name="value_max" /></div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Step"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['step'] ) && (  $model['step'] )) || !is_bool(  $model['step'] )) { echo " value=\"" . ($model['step']) . "\""; } ?>  name="step" /></div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Title"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['title'] ) && (  $model['title'] )) || !is_bool(  $model['title'] )) { echo " value=\"" . ($model['title']) . "\""; } ?>  name="title" /><div  class="help-text"><?php echo t('You can use "$value" as placeholder for value'); ?></div> </div>      </div>  <?php } ?> <?php if($model["type"] == "textbox" || $model["type"] == "password") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Placeholder"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['placeholder'] ) && (  $model['placeholder'] )) || !is_bool(  $model['placeholder'] )) { echo " value=\"" . ($model['placeholder']) . "\""; } ?>  name="placeholder" /></div>      </div>  <?php if($model["type"] == "textbox") { ?><div  class="row"><div  class="col-md-3 static-text"></div> <div  class="col-md-9 static-text"><label><input  type="toggle_swipe"  name="isEmail"  value='1' <?php if((is_bool(  $model['isEmail'] ) && (  $model['isEmail'] )) || !is_bool(  $model['isEmail'] )) { echo " checked=\"" . ($model['isEmail']) . "\""; } ?> /> <?php echo t("This field is for email"); ?></label></div>      </div>  <?php } ?> <?php } ?> <?php if($model["type"] == "variable") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("List"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['list'] ) && (  $model['list'] )) || !is_bool(  $model['list'] )) { echo " value=\"" . ($model['list']) . "\""; } ?>  name="list" /><div  class="help-text"> <?php echo t("Here put list exploded by"); ?> ,
                    </div> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Usage in text"); ?></div> <div  class="col-md-9"><input  type="text"  value="<?php echo '{#'.$model['name'].'}'; ?>"  onclick="$(this).select();"  readonly /></div>      </div> <hr /><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Next"); ?></div> <div  class="col-md-9 static-text"><label><input  type="radio"  value="1"  name="next" <?php if((is_bool(  $model['next'] == 1 ) && (  $model['next'] == 1 )) || !is_bool(  $model['next'] == 1 )) { echo " checked=\"" . ($model['next'] == 1) . "\""; } ?> /> <?php echo t("Increment by"); ?> 1
                    </label><br /><label><input  type="radio"  value="2"  name="next" <?php if((is_bool(  $model['next'] == 2 ) && (  $model['next'] == 2 )) || !is_bool(  $model['next'] == 2 )) { echo " checked=\"" . ($model['next'] == 2) . "\""; } ?> /> <?php echo t("Decrement by"); ?> 1
                    </label><br /><label><input  type="radio"  value="3"  name="next" <?php if((is_bool(  $model['next'] == 3 ) && (  $model['next'] == 3 )) || !is_bool(  $model['next'] == 3 )) { echo " checked=\"" . ($model['next'] == 3) . "\""; } ?> /> <?php echo t("Next in list"); ?><span  class="help-text"> <?php echo t("After end start from first"); ?></span> </label><br /><label><input  type="radio"  value="4"  name="next" <?php if((is_bool(  $model['next'] == 4 ) && (  $model['next'] == 4 )) || !is_bool(  $model['next'] == 4 )) { echo " checked=\"" . ($model['next'] == 4) . "\""; } ?> /> <?php echo t("Nothing"); ?></label></div>      </div> <hr /><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Stop"); ?></div> <div  class="col-md-9 static-text"><label><input  type="radio"  value="1"  name="stop" <?php if((is_bool(  $model['stop'] == 1 ) && (  $model['stop'] == 1 )) || !is_bool(  $model['stop'] == 1 )) { echo " checked=\"" . ($model['stop'] == 1) . "\""; } ?> /> <?php echo t("Stop at end of list"); ?></label><br /><label><input  type="radio"  value="2"  name="stop" <?php if((is_bool(  $model['stop'] == 2 ) && (  $model['stop'] == 2 )) || !is_bool(  $model['stop'] == 2 )) { echo " checked=\"" . ($model['stop'] == 2) . "\""; } ?> /> <?php echo t("Stop at number"); ?><input  type="text"  name="stopat" <?php if((is_bool(  $model["stopat"] ) && (  $model["stopat"] )) || !is_bool(  $model["stopat"] )) { echo " value=\"" . ($model["stopat"]) . "\""; } ?> /></label><br /><label><input  type="radio"  value="3"  name="stop" <?php if((is_bool(  $model['stop'] == 3 ) && (  $model['stop'] == 3 )) || !is_bool(  $model['stop'] == 3 )) { echo " checked=\"" . ($model['stop'] == 3) . "\""; } ?> /> <?php echo t("Never"); ?></label></div>      </div> <hr /><div  class="row"><div  class="col-md-3 static-text"></div> <div  class="col-md-9 static-text"><label><input  type="toggle_swipe"  name="closeatstop"  value='1' <?php if((is_bool(  $model['closeatstop'] ) && (  $model['closeatstop'] )) || !is_bool(  $model['closeatstop'] )) { echo " checked=\"" . ($model['closeatstop']) . "\""; } ?> /> <?php echo t("When stoped close the form"); ?></label></div>      </div>  <?php } ?> <?php if($model["type"] == "text") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Text"); ?></div> <div  class="col-md-9"><textarea  class="tinimce_mini"  name="text"><?php echo $model['value']; ?></textarea> </div>      </div>  <?php } ?> <?php if($model["type"] == "upload") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Folder"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['folder'] ) && (  $model['folder'] )) || !is_bool(  $model['folder'] )) { echo " value=\"" . ($model['folder']) . "\""; } ?>  name="folder" /></div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Max size"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['maxsize'] ) && (  $model['maxsize'] )) || !is_bool(  $model['maxsize'] )) { echo " value=\"" . ($model['maxsize']) . "\""; } ?>  class="text-right"  name="maxsize"  data-postfix="B" /><div  class="help-text"><?php echo t("In bites, 1048576 B is 1 MB"); ?>, <?php echo t("actually is it"); ?> <?php echo Utilities::convertBtoMB($model["maxsize"]); ?> MB</div> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Allowed extensions"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['allowed'] ) && (  $model['allowed'] )) || !is_bool(  $model['allowed'] )) { echo " value=\"" . ($model['allowed']) . "\""; } ?>  name="allowed" /><div  class="help-text"><?php echo t("separated by ,"); ?></div> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"></div> <div  class="col-md-9"><label><input  type="toggle_swipe"  name="resize"  value='1' <?php if((is_bool(  $model['resize'] ) && (  $model['resize'] )) || !is_bool(  $model['resize'] )) { echo " checked=\"" . ($model['resize']) . "\""; } ?> /> <?php echo t("Allow image resize"); ?></label><div  class="help-text"><?php echo t("Works only for gif, png, jpg"); ?></div> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Resize size"); ?></div> <div  class="col-md-4"><input  type="text" <?php if((is_bool(  $model['resizew'] ) && (  $model['resizew'] )) || !is_bool(  $model['resizew'] )) { echo " value=\"" . ($model['resizew']) . "\""; } ?>  name="resizew" /></div>     <div  class="col-md-1 text-center"> x                   
                </div>    <div  class="col-md-4"><input  type="text" <?php if((is_bool(  $model['resizeh'] ) && (  $model['resizeh'] )) || !is_bool(  $model['resizeh'] )) { echo " value=\"" . ($model['resizeh']) . "\""; } ?>  name="resizeh" /></div>      </div>  <?php } ?> <?php if($model["type"] == "textarea") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Text"); ?></div> <div  class="col-md-9"><textarea  rows="2"  name="value"><?php echo $model['value']; ?></textarea> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Placeholder"); ?></div> <div  class="col-md-9"><textarea  rows="2"  name="placeholder"><?php echo $model['placeholder']; ?></textarea> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Rows"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['rows'] ) && (  $model['rows'] )) || !is_bool(  $model['rows'] )) { echo " value=\"" . ($model['rows']) . "\""; } ?>  name="rows" /></div>      </div>  <?php } ?> <?php if($model["type"] == "picker") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Display as"); ?></div> <div  class="col-md-9 static-text"><label><input  type="radio"  value="row"  name="displayas" <?php if((is_bool(  $model['displayas'] == 'row' ) && (  $model['displayas'] == 'row' )) || !is_bool(  $model['displayas'] == 'row' )) { echo " checked=\"" . ($model['displayas'] == 'row') . "\""; } ?> /> <?php echo t("Rows"); ?></label><br /><label><input  type="radio"  value="cells"  name="displayas" <?php if((is_bool(  $model['displayas'] == 'cells' ) && (  $model['displayas'] == 'cells' )) || !is_bool(  $model['displayas'] == 'cells' )) { echo " checked=\"" . ($model['displayas'] == 'cells') . "\""; } ?> /> <?php echo t("Cells"); ?>, 
                        <?php echo t("Size"); ?>&nbsp;<input  type="text"  name="size"  class="mini text-right" <?php if((is_bool(  $model["size"] ) && (  $model["size"] )) || !is_bool(  $model["size"] )) { echo " value=\"" . ($model["size"]) . "\""; } ?>  data-postfix="px" />, 
                        <?php echo t("Font size"); ?>&nbsp;<input  type="text"  name="fontsize"  class="mini text-right" <?php if((is_bool(  $model["fontsize"] ) && (  $model["fontsize"] )) || !is_bool(  $model["fontsize"] )) { echo " value=\"" . ($model["fontsize"]) . "\""; } ?>  data-postfix="px" />, 
                        <?php echo t("On line"); ?>&nbsp;<input  type="text"  name="online"  class="mini" <?php if((is_bool(  $model["online"] ) && (  $model["online"] )) || !is_bool(  $model["online"] )) { echo " value=\"" . ($model["online"]) . "\""; } ?> /></label><div  class="help-text"> <?php echo t("Enter 0 for on line to put all on one line"); ?></div> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Values"); ?></div> <div  class="col-md-9"><div  id="editor-for-<?php echo $model['id']; ?>"  style="display: none;"  class="edit-box"><input  type="hidden"  value=""  class="item-edit-index" /><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Name"); ?></div> <div  class="col-md-9"><input  type="text"  value=""  class="item-edit-name" /></div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Description"); ?></div> <div  class="col-md-9"><input  type="text"  value=""  class="item-edit-desc" /></div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Minimal permission"); ?></div> <div  class="col-md-9"><select  class="item-edit-minperm"  style="width: 100%;"> <?php foreach($model["permList"] as $key => $perm) { ?><option <?php if((is_bool(  $key ) && (  $key )) || !is_bool(  $key )) { echo " value=\"" . ($key) . "\""; } ?>><?php echo $perm['name']; ?></option>  <?php } ?><option  value="0"><?php echo t("Unregistered user"); ?></option> </select> </div>      </div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Maximal usage"); ?></div> <div  class="col-md-9"><input  type="text"  value=""  class="item-edit-maxusage" /><div  class="help-text"> <?php echo t("Enter 0 for unlimited usage"); ?></div> </div>      </div> <div  class="row"><div  class="col-md-3"></div> <div  class="col-md-9"><button  class="button"  onclick="saveCallback_<?php echo $model['id']; ?>(); return false;"  name="save"><?php echo t('Save'); ?></button>  <button  class="button button-secondary"  onclick="closeEditorCallback_<?php echo $model['id']; ?>(); return false;"  name="save"><?php echo t('Close'); ?></button>  </div> </div> </div> <div  class="sort-list-item"  id="sort-list-noitem-<?php echo $model['id']; ?>"><div><span  class="material-symbols-outlined">sms_failed</span>   <?php echo t("No item found"); ?></div></div> <div  class="sort-list"  id="select-items-<?php echo $model['id']; ?>"> <?php $index = 0; ?> <?php $type = ($model["select_type"] == 2 || $model["select_type"] == 3? "toggle_swipe": "radio"); ?> <?php foreach($model["items"] as $key => $value) { ?><div  class="sort-list-item"  id="list-item-<?php echo $model['id']; ?>-<?php echo $index; ?>"><input  type="hidden"  class="value-item val-name"  data-name="item_name"  name="item_name[<?php echo $index; ?>]" <?php if((is_bool(  $value['name'] ) && (  $value['name'] )) || !is_bool(  $value['name'] )) { echo " value=\"" . ($value['name']) . "\""; } ?> /><input  type="hidden"  class="value-item val-description"  data-name="item_description"  name="item_description[<?php echo $index; ?>]" <?php if((is_bool(  $value['description'] ) && (  $value['description'] )) || !is_bool(  $value['description'] )) { echo " value=\"" . ($value['description']) . "\""; } ?> /><input  type="hidden"  class="value-item val-minperm"  data-name="item_minperm"  name="item_minperm[<?php echo $index; ?>]" <?php if((is_bool(  $value['minperm'] ) && (  $value['minperm'] )) || !is_bool(  $value['minperm'] )) { echo " value=\"" . ($value['minperm']) . "\""; } ?> /><input  type="hidden"  class="value-item val-maxusage"  data-name="item_maxusage"  name="item_maxusage[<?php echo $index; ?>]" <?php if((is_bool(  $value['maxusage'] ) && (  $value['maxusage'] )) || !is_bool(  $value['maxusage'] )) { echo " value=\"" . ($value['maxusage']) . "\""; } ?> /><div  class="mover"><span  class="material-symbols-outlined select-item-mover">drag_indicator</span> </div> <div  class="item-name"> <?php echo $value['name']; ?></div> <div  class="mini"><a  href="#"  class="button button-edit" <?php if((is_bool(  $index ) && (  $index )) || !is_bool(  $index )) { echo " data-index=\"" . ($index) . "\""; } ?>  onclick="var fun = editCallback_<?php echo $model['id']; ?>; fun($(this).data('index')); return false;"  title="<?php echo t('Edit'); ?>"><span  class="material-symbols-outlined">edit</span> </a> </div> <div  class="mini"><a  href="#"  class="button button-delete" <?php if((is_bool(  $index ) && (  $index )) || !is_bool(  $index )) { echo " data-index=\"" . ($index) . "\""; } ?>  onclick="var fun = orderCallback_<?php echo $model['id']; ?>; $('#list-item-'+$(this).data('index')).remove(); fun(); return false;"  title="<?php echo t('Delete'); ?>"><span  class="material-symbols-outlined">delete</span> </a> </div> </div>  <?php $index++; ?> <?php } ?></div> <button  onclick="var fun = orderCallback_<?php echo $model['id']; ?>; builder.addItemFromTemplate($('.template-item-<?php echo $model['id']; ?>'), $('#select-items-<?php echo $model['id']; ?>')); fun(); return false;"  class="button mb-1"><span  class="material-symbols-outlined">add</span>   <?php echo t("Add item"); ?></button> <div  class="template template-item-<?php echo $model['id']; ?>"><div  class="sort-list-item"  id="list-item-<?php echo $model['id']; ?>-<?php echo $index; ?>"><input  type="hidden"  class="value-item val-name"  data-name="item_name" /><input  type="hidden"  class="value-item val-description"  data-name="item_description" /><input  type="hidden"  class="value-item val-minperm"  data-name="item_minperm"  value="0" /><input  type="hidden"  class="value-item val-maxusage"  data-name="item_maxusage"  value="0" /><div  class="mover"><span  class="material-symbols-outlined select-item-mover">drag_indicator</span> </div> <div  class="item-name"><i><?php echo t('New item'); ?></i></div> <div  class="mini"><a  href="#"  class="button button-edit" <?php if((is_bool(  $index ) && (  $index )) || !is_bool(  $index )) { echo " data-index=\"" . ($index) . "\""; } ?>  onclick="var fun = editCallback_<?php echo $model['id']; ?>; fun($(this).data('index')); return false;"  title="<?php echo t('Edit'); ?>"><span  class="material-symbols-outlined">edit</span> </a> </div> <div  class="mini"><a  href="#"  class="button button-delete"  onclick="var fun = orderCallback_<?php echo $model['id']; ?>; $('#list-item-'+$(this).data('index')).remove(); fun(); return false;"  title="<?php echo t('Delete'); ?>"><span  class="material-symbols-outlined">delete</span> </a> </div> </div> </div> <script> function editCallback_<?php echo $model['id']; ?>(index){
                            var editor = $("#editor-for-<?php echo $model['id']; ?>");
                            editor.show();
                            var items = $("#list-item-<?php echo $model['id']; ?>-" + index);                            
                            editor.find(".item-edit-index").val(index);
                            editor.find(".item-edit-name").val(items.find(".val-name").val());
                            editor.find(".item-edit-desc").val(items.find(".val-description").val());
                            var minperm = items.find(".val-minperm").val(); if(minperm == "") {minperm = 0; }
                            editor.find(".item-edit-minperm").val(minperm).trigger("change");
                            var maxusage = items.find(".val-maxusage").val(); if(maxusage == "") {maxusage = 0; }
                            editor.find(".item-edit-maxusage").val(maxusage);
                        }

                        function saveCallback_<?php echo $model['id']; ?>(){
                            var editor = $("#editor-for-<?php echo $model['id']; ?>");
                            var index = editor.find(".item-edit-index").val();
                            var items = $("#list-item-<?php echo $model['id']; ?>-" + index);                            
                            //editor.find(".item-edit-index").val(index);
                            items.find(".val-name").val(editor.find(".item-edit-name").val());
                            items.find(".val-description").val(editor.find(".item-edit-desc").val());
                            items.find(".val-minperm").val(editor.find(".item-edit-minperm").val());
                            items.find(".val-maxusage").val(editor.find(".item-edit-maxusage").val());
                            closeEditorCallback_<?php echo $model['id']; ?>();
                            orderCallback_<?php echo $model['id']; ?>();
                        }

                        function closeEditorCallback_<?php echo $model['id']; ?>(){
                            $("#editor-for-<?php echo $model['id']; ?>").hide();
                        }

                        function orderCallback_<?php echo $model['id']; ?>(){
                            var index = 0;

                            if($("#select-items-<?php echo $model['id']; ?> > .sort-list-item").length == 0){
                                $("#sort-list-noitem-<?php echo $model['id']; ?>").show();
                            }else{
                                $("#sort-list-noitem-<?php echo $model['id']; ?>").hide();
                            }

                            index = 0;
                            $("#select-items-<?php echo $model['id']; ?> > .sort-list-item").each(function(){
                                $(this).attr("id", "list-item-<?php echo $model['id']; ?>-" + (index++));
                            });
                        
                            index = 0;
                            $("#select-items-<?php echo $model['id']; ?> > .sort-list-item").each(function(){
                                var name = "";
                                var desc = "";
                                $(this).find(".value-item").each(function(){
                                    $(this).attr("name", $(this).data("name")+"["+(index)+"]");
                                    if($(this).data("name") == "item_name") name = $(this).val();
                                    if($(this).data("name") == "item_description") desc = $(this).val();
                                });    
                                if(name == "") {
                                    $(this).find(".item-name").html("<i><?php echo t('New item'); ?></i>");
                                }else{
                                    $(this).find(".item-name").html(name+" <i>"+desc+"</i>");
                                }
                                $(this).find(".button-delete").data("index", index);
                                $(this).find(".button-edit").data("index", index);                     
                                index++;
                            });
                        }

                        orderCallback_<?php echo $model['id']; ?>();

                        $(function() {
                            $("#select-items-<?php echo $model['id']; ?>").sortable({
                                handle: ".mover",
                                axis: "y",
                                animation: 150,
                                stop: function(event, ui){
                                    orderCallback_<?php echo $model['id']; ?>();
                                }
                            });
                        });
                    </script></div>      </div>  <?php } ?> <?php if($model["type"] == "select") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Type"); ?></div> <div  class="col-md-6"><select  name="select_type"  style="width: 100%;"><option  value="1" <?php if((is_bool(  $model['select_type'] == 1 ) && (  $model['select_type'] == 1 )) || !is_bool(  $model['select_type'] == 1 )) { echo " selected=\"" . ($model['select_type'] == 1) . "\""; } ?>>Select</option> <option  value="2" <?php if((is_bool(  $model['select_type'] == 2 ) && (  $model['select_type'] == 2 )) || !is_bool(  $model['select_type'] == 2 )) { echo " selected=\"" . ($model['select_type'] == 2) . "\""; } ?>>Multi-select</option> <option  value="3" <?php if((is_bool(  $model['select_type'] == 3 ) && (  $model['select_type'] == 3 )) || !is_bool(  $model['select_type'] == 3 )) { echo " selected=\"" . ($model['select_type'] == 3) . "\""; } ?>>Checkbox</option> <option  value="4" <?php if((is_bool(  $model['select_type'] == 4 ) && (  $model['select_type'] == 4 )) || !is_bool(  $model['select_type'] == 4 )) { echo " selected=\"" . ($model['select_type'] == 4) . "\""; } ?>>Radio</option> </select> </div>       <?php if($model["select_type"] == 3 || $model["select_type"] == 4) { ?><div  class="col-md-1 static-text text-right"><?php echo t("Variety"); ?></div> <div  class="col-md-2"><select  name="variety"  style="width: 100%;"><option  value="1" <?php if((is_bool(  $model['variety'] == 1 ) && (  $model['variety'] == 1 )) || !is_bool(  $model['variety'] == 1 )) { echo " selected=\"" . ($model['variety'] == 1) . "\""; } ?>><?php echo t("One line"); ?></option> <option  value="2" <?php if((is_bool(  $model['variety'] == 2 ) && (  $model['variety'] == 2 )) || !is_bool(  $model['variety'] == 2 )) { echo " selected=\"" . ($model['variety'] == 2) . "\""; } ?>><?php echo t("Multi line"); ?></option> </select> </div>  <?php } ?></div> <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Values"); ?></div> <div  class="col-md-9"><div  class="sort-list-item"  id="sort-list-noitem-<?php echo $model['id']; ?>"><div><span  class="material-symbols-outlined">sms_failed</span>   <?php echo t("No item found"); ?></div></div> <div  class="sort-list"  id="select-items-<?php echo $model['id']; ?>"> <?php $index = 0; ?> <?php $type = ($model["select_type"] == 2 || $model["select_type"] == 3? "toggle_swipe": "radio"); ?> <?php foreach($model["items"] as $key => $value) { ?><div  class="sort-list-item"  id="list-item-<?php echo $model['id']; ?>-<?php echo $index; ?>"><div  class="mover"><span  class="material-symbols-outlined select-item-mover">drag_indicator</span> </div> <div  class="mini"> <?php if($type == "radio") { ?><input  type="radio"  class="item-select" <?php if((is_bool(  $value['checked'] ) && (  $value['checked'] )) || !is_bool(  $value['checked'] )) { echo " checked=\"" . ($value['checked']) . "\""; } ?>  name="select_item_selected" <?php if((is_bool(  $index ) && (  $index )) || !is_bool(  $index )) { echo " value=\"" . ($index) . "\""; } ?> /> <?php } else { ?><input  type="toggle_swipe"  class="item-select" <?php if((is_bool(  $value['checked'] ) && (  $value['checked'] )) || !is_bool(  $value['checked'] )) { echo " checked=\"" . ($value['checked']) . "\""; } ?>  name="select_item_selected[<?php echo $index; ?>]"  value="1" /> <?php } ?></div> <div><input  type="text"  class="item-name"  name="select_item_name[<?php echo $index; ?>]"  title="<?php echo t('Name'); ?>"  placeholder="<?php echo t('Name'); ?>" <?php if((is_bool(  $value['name'] ) && (  $value['name'] )) || !is_bool(  $value['name'] )) { echo " value=\"" . ($value['name']) . "\""; } ?> /></div><div><input  type="text"  class="item-value"  name="select_item_value[<?php echo $index; ?>]"  title="<?php echo t('Value'); ?>"  placeholder="<?php echo t('Value'); ?>" <?php if((is_bool(  $value['value'] ) && (  $value['value'] )) || !is_bool(  $value['value'] )) { echo " value=\"" . ($value['value']) . "\""; } ?> /></div><div  class="mini"><a  href="#"  class="button button-delete" <?php if((is_bool(  $index ) && (  $index )) || !is_bool(  $index )) { echo " data-index=\"" . ($index) . "\""; } ?>  onclick="var fun = orderCallback_<?php echo $model['id']; ?>; $('#list-item-'+$(this).data('index')).remove(); fun(); return false;"  title="<?php echo t('Delete'); ?>"><span  class="material-symbols-outlined">delete</span> </a> </div> </div>  <?php $index++; ?> <?php } ?></div> <button  onclick="var fun = orderCallback_<?php echo $model['id']; ?>; builder.addItemFromTemplate($('.template-item-<?php echo $model['id']; ?>'), $('#select-items-<?php echo $model['id']; ?>')); fun(); return false;"  class="button mb-1"><span  class="material-symbols-outlined">add</span>   <?php echo t("Add item"); ?></button> <div  class="template template-item-<?php echo $model['id']; ?>"><div  class="sort-list-item"><div  class="mover"><span  class="material-symbols-outlined select-item-mover">drag_indicator</span> </div> <div  class="mini"> <?php if($type == "radio") { ?><input  type="radio"  class="item-select"  name="select_item_selected" /> <?php } else { ?><input  type="toggle_swipe"  class="item-select"  value="1" /> <?php } ?></div> <div><input  type="text"  class="item-name"  title="<?php echo t('Name'); ?>"  placeholder="<?php echo t('Name'); ?>"  value="" /></div><div><input  type="text"  class="item-value"  title="<?php echo t('Value'); ?>"  placeholder="<?php echo t('Value'); ?>"  value="" /></div><div  class="mini"><a  href="#"  class="button button-delete"  onclick="var fun = orderCallback_<?php echo $model['id']; ?>; $('#list-item-'+$(this).data('index')).remove(); fun(); return false;"  title="<?php echo t('Delete'); ?>"><span  class="material-symbols-outlined">delete</span> </a> </div> </div> </div> <script> function orderCallback_<?php echo $model['id']; ?>(){
                            var index = 0;

                            if($("#select-items-<?php echo $model['id']; ?> > .sort-list-item").length == 0){
                                $("#sort-list-noitem-<?php echo $model['id']; ?>").show();
                            }else{
                                $("#sort-list-noitem-<?php echo $model['id']; ?>").hide();
                            }

                            $("#select-items-<?php echo $model['id']; ?> > .sort-list-item").each(function(){
                                $(this).attr("id", "list-item-<?php echo $model['id']; ?>-" + (index++));
                            });

                            index = 0;
                            if("<?php echo $type; ?>" != "radio") {
                                $("#select-items-<?php echo $model['id']; ?> > .sort-list-item .item-select").each(function(){
                                    $(this).attr("name", "select_item_selected["+(index++)+"]");
                                });
                            }else{
                                $("#select-items-<?php echo $model['id']; ?> > .sort-list-item .item-select").each(function(){
                                    $(this).attr("value", index++);
                                });
                            }
                                    
                            index = 0;
                            $("#select-items-<?php echo $model['id']; ?> > .sort-list-item .item-name").each(function(){
                                $(this).attr("name", "select_item_name["+(index)+"]");
                                $(this).parent().parent().find(".button-delete").data("index", index);
                                index++;
                            });
                                                                   
                            index = 0;
                            $("#select-items-<?php echo $model['id']; ?> > .sort-list-item .item-value").each(function(){
                                   $(this).attr("name", "select_item_value["+(index++)+"]");
                            });
                        }

                        orderCallback_<?php echo $model['id']; ?>();

                        $(function() {
                            $("#select-items-<?php echo $model['id']; ?>").sortable({
                                handle: ".mover",
                                axis: "y",
                                animation: 150,
                                stop: function(event, ui){
                                    orderCallback_<?php echo $model['id']; ?>();
                                }
                            });
                        });
                    </script></div>      </div> <div  class="row"><div  class="col-md-3 static-text"></div> <div  class="col-md-9 static-text"><label><input  type="toggle_swipe"  name="enableCustom"  value='1' <?php if((is_bool(  $model['enableCustom'] ) && (  $model['enableCustom'] )) || !is_bool(  $model['enableCustom'] )) { echo " checked=\"" . ($model['enableCustom']) . "\""; } ?> /> <?php echo t("Allow custom entry"); ?></label></div>      </div>  <?php } ?><hr /> <?php if($model["type"] != "text" && $model["type"] != "submit" && $model["type"] != "variable" && $model["type"] != "recaptcha") { ?><div  class="row"><div  class="col-md-3 static-text"><?php echo t("State"); ?></div> <div  class="col-md-9"><select  name="state"  style="width: 100%;"><option  value="0" <?php if((is_bool(  $model['state'] == 0 ) && (  $model['state'] == 0 )) || !is_bool(  $model['state'] == 0 )) { echo " selected=\"" . ($model['state'] == 0) . "\""; } ?>><?php echo t("Default"); ?></option> <option  value="1" <?php if((is_bool(  $model['state'] == 1 ) && (  $model['state'] == 1 )) || !is_bool(  $model['state'] == 1 )) { echo " selected=\"" . ($model['state'] == 1) . "\""; } ?>><?php echo t("Required"); ?></option> <option  value="2" <?php if((is_bool(  $model['state'] == 2 ) && (  $model['state'] == 2 )) || !is_bool(  $model['state'] == 2 )) { echo " selected=\"" . ($model['state'] == 2) . "\""; } ?>><?php echo t("Disabled"); ?></option> <option  value="3" <?php if((is_bool(  $model['state'] == 3 ) && (  $model['state'] == 3 )) || !is_bool(  $model['state'] == 3 )) { echo " selected=\"" . ($model['state'] == 3) . "\""; } ?>><?php echo t("Hidden"); ?></option> </select> </div>      </div>  <?php } ?><div  class="row"><div  class="col-md-3"></div> <div  class="col-md-9"><button  class="button-save button button-primary"  onclick="builder.submitItemEdit(this, '<?php echo $model['id']; ?>');return false;"  name="save"><?php echo t('Save'); ?></button>  </div> </div> </form> </div> 