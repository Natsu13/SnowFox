<div  class="row"><div  class="col-md-12"><form  method="post"  action="<?php echo Router::url(); ?>adminv3/menu/update/<?php echo $model['id']; ?>"><div  class="row"><div  class="col-md-3 static-text"><?php echo t("Title"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['title'] ) && (  $model['title'] )) || !is_bool(  $model['title'] )) { echo " value=\"" . ($model['title']) . "\""; } ?>  name="title" /></div>      </div>    <div  class="row"><div  class="col-md-3 static-text no-align"><?php echo t("Box"); ?></div> <div  class="col-md-9"><input  type="text" <?php if((is_bool(  $model['box'] ) && (  $model['box'] )) || !is_bool(  $model['box'] )) { echo " value=\"" . ($model['box']) . "\""; } ?>  name="box"  data-list="<?php echo join(';', $model['menus']); ?>" /><div  class="help-text"><?php echo t("Type new box name if you want create new box"); ?></div> </div>      </div>  <div  class="row"><div  class="col-md-3 static-text"><?php echo t("Type"); ?></div> <div  class="col-md-9"><select  name="type"  style="width: 100%;"  onChange="$('#'+lastSettMen+'-set').hide(); lastSettMen = $($(this).find('option:selected')).val(); $('#'+lastSettMen+'-set').show();"> <?php foreach($model["types"] as $type) { ?><option <?php if((is_bool(  $type[0] ) && (  $type[0] )) || !is_bool(  $type[0] )) { echo " value=\"" . ($type[0]) . "\""; } ?> <?php if((is_bool(  $type[0] == $model['type'] ) && (  $type[0] == $model['type'] )) || !is_bool(  $type[0] == $model['type'] )) { echo " selected=\"" . ($type[0] == $model['type']) . "\""; } ?>><?php echo t($type[1]); ?></option>  <?php } ?></select> </div>      </div>  <div  class="form-group row mb-2"><label  class="col-sm-3"></label> <div  class="col-sm-9"><label><input  type="toggle_swipe" <?php if((is_bool(  $model['isVisible'] ) && (  $model['isVisible'] )) || !is_bool(  $model['isVisible'] )) { echo " checked=\"" . ($model['isVisible']) . "\""; } ?>  name="visible"  value='1' /> <?php echo t("Visible"); ?></label></div> </div> <div  class="form-group row mb-2"><label  class="col-sm-3 static-text"><?php echo t("Accessibility"); ?></label> <div  class="col-sm-9"><select  name="permission"  style='width:100%;'  onchange="if($($(this).find('option:selected')).val()=='-1,-1'){ $('#customlevel').css('display','block'); }else{ $('#customlevel').hide(); };"> <?php $perms = array(
                            [0, 10000, "Anyone"], 
                            [0, 0, "Only not loged"], 
                            [1, 10000, "Only loged"], 
                            [5000, 10000, "Only admin"], 
                            [-1, -1, "Custom"]
                        ); ?> <?php $hasSelected = false; ?> <?php $hasCustom = false; ?> <?php foreach($perms as $key => $perm) { ?> <?php $level = "Level: ".$perm[0]." >< ".$perm[1]; ?> <?php $selected = $model["levelRange"][0] == $perm[0] && $model["levelRange"][1] == $perm[1]; ?> <?php if(!$hasSelected) { ?> <?php $hasSelected = $selected; ?> <?php if($perm[0] == -1 && $perm[1] == -1) { ?> <?php $selected = true; ?> <?php $hasCustom = true; ?> <?php } ?> <?php } ?> <?php if($perm[0] == -1 && $perm[1] == -1) { ?> <?php $level = $model["levelRange"][0]." >< " . $model["levelRange"][1]; ?> <?php } ?><option <?php if((is_bool(  $perm[0].",".$perm[1] ) && (  $perm[0].",".$perm[1] )) || !is_bool(  $perm[0].",".$perm[1] )) { echo " value=\"" . ($perm[0].",".$perm[1]) . "\""; } ?> <?php if((is_bool(  $selected ) && (  $selected )) || !is_bool(  $selected )) { echo " selected=\"" . ($selected) . "\""; } ?>><?php echo t($perm[2]); ?> (<?php echo $level; ?>)</option>  <?php } ?></select>                     </div>                 </div> <div  id="customlevel"  style='display:<?php echo $hasCustom?"block":"none"; ?>'><hr /><div  class="row"  style="margin-top: 5px;margin-bottom: 15px;"><div  class="col-sm-12"><div  style="margin-top: 8px; font-weight: bold;"><?php echo t("Custom"); ?></div> <div  style="display: flex;"> <?php echo Utilities::permissionSelect($model["milevel"], "permMin", "width:50%", "form-control", "level", true); ?> <?php echo Utilities::permissionSelect($model["malevel"], "permMax", "width:50%", "form-control", "level", true); ?></div>   </div> </div>                 </div> <hr /><br /><div  class="row"><div  class="col-md-3"></div> <div  class="col-md-9"><b><?php echo t("Menu type setting"); ?></b></div> </div> <div  id="article-set"  style='display:<?php echo $model["type"] == "article"?"block":"none"; ?>'><div  class="form-group row mb-2"><label  class="col-sm-3 col-form-label"><?php echo t("Article"); ?></label> <div  class="col-sm-9"><select  name="article_id"  style='width:100%;'> <?php foreach($model['articleList'] as $n => $row) { ?><option <?php if((is_bool(  $row["id"].", ".$row["alias"] ) && (  $row["id"].", ".$row["alias"] )) || !is_bool(  $row["id"].", ".$row["alias"] )) { echo " value=\"" . ($row["id"].", ".$row["alias"]) . "\""; } ?> <?php if((is_bool(  $model['data']['alias'] == $row['alias'] ) && (  $model['data']['alias'] == $row['alias'] )) || !is_bool(  $model['data']['alias'] == $row['alias'] )) { echo " selected=\"" . ($model['data']['alias'] == $row['alias']) . "\""; } ?>><?php echo $row["title"]; ?></option>  <?php } ?></select> </div> </div>     </div> <div  id="index-set"  style='display:<?php echo $model["type"] == "index"?"block":"none"; ?>'><div  class="form-group row mb-2"><label  class="col-sm-3 col-form-label"></label> <div  class="col-sm-9 col-form-label"><div><b><?php echo t("Link to main page"); ?></b></div><i><?php echo Router::url(); ?></i></div> </div> </div> <div  id="separator-set"  style='display:<?php echo $model["type"] == "separator"?"block":"none"; ?>'><div  class="form-group row mb-2"><label  class="col-sm-3 col-form-label"></label> <div  class="col-sm-9 col-form-label"> <?php echo t("Separated from each item"); ?></div> </div> </div> <div  id="category-set"  style='display:<?php echo $model["type"] == "category"?"block":"none"; ?>'><div  class="form-group row mb-2"><label  class="col-sm-3 col-form-label"><?php echo t("Category"); ?></label> <div  class="col-sm-9"><select  name="category_id"  style='width:100%;'> <?php foreach($model['categoryList'] as $n => $row) { ?><option <?php if((is_bool(  $row["id"].",".$row["alias"] ) && (  $row["id"].",".$row["alias"] )) || !is_bool(  $row["id"].",".$row["alias"] )) { echo " value=\"" . ($row["id"].",".$row["alias"]) . "\""; } ?> <?php if((is_bool(  $model['data']['id'] == $row['id'] ) && (  $model['data']['id'] == $row['id'] )) || !is_bool(  $model['data']['id'] == $row['id'] )) { echo " selected=\"" . ($model['data']['id'] == $row['id']) . "\""; } ?>><?php echo $row["name"]; ?></option>  <?php } ?></select> </div> </div> </div> <div  id="login-set"  style='display:<?php echo $model["type"] == "login"?"block":"none"; ?>'><div  class="form-group row mb-2"><label  class="col-sm-3 col-form-label"></label> <div  class="col-sm-9"><label><input  type="toggle_swipe" <?php if((is_bool(  $model['data']['register'] == 1 ) && (  $model['data']['register'] == 1 )) || !is_bool(  $model['data']['register'] == 1 )) { echo " checked=\"" . ($model['data']['register'] == 1) . "\""; } ?>  name="register"  value='1' /> <?php echo t("Show register button"); ?></label></div> </div>      </div> <div  id="url-set"  style='display:<?php echo $model["type"] == "url"?"block":"none"; ?>'><div  class="form-group row mb-2"><label  class="col-sm-3 col-form-label"><?php echo t("Link"); ?></label> <div  class="col-sm-9"><input  type="text"  class="form-control"  name="link" <?php if((is_bool(  $model['data']['url'] ) && (  $model['data']['url'] )) || !is_bool(  $model['data']['url'] )) { echo " value=\"" . ($model['data']['url']) . "\""; } ?> /></div> </div> </div> <div  class="row"  style="display:none;"><div  class="col-md-3"></div> <div  class="col-md-9"><button  type="submit"  id="submit-edit-menu-form-button"  class="submit button button-primary"  name="save"><?php echo t('Save'); ?></button>  </div> </div> </form> </div> </div> <script> var lastSettMen = "<?php echo $model['type']; ?>";
</script>